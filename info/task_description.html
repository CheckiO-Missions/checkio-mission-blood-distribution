
<p>
In this mission, you will be tasked with distributing available blood of different types to patients in need of transfusions.
  Each blood type has compatibility restrictions for both donation and reception of blood.
  You will be provided with the quantities of available blood for each type and the blood needs for each type of patient.
  Your goal is to calculate the appropriate amount of blood to allocate to each type, while respecting the compatibility restrictions, in order to meet the patients' needs as efficiently as possible.
</p>
<div>
  <h3>Compatibility Restrictions</h3>
  <ul>
    <li>Blood type A can donate to blood types A and AB.</li>
    <li>Blood type B can donate to blood types B and AB.</li>
    <li>Blood type AB can only donate to blood type AB.</li>
    <li>Blood type O can donate to blood types A, B, AB, and O (universal donor).</li>
    <li>Blood type A can only receive from blood types A and O.</li>
    <li>Blood type B can only receive from blood types B and O.</li>
    <li>Blood type AB can receive from all blood types (universal recipient).</li>
    <li>Blood type O can only receive from blood type O.</li>
  </ul>
</div>

<p>
You need to implement the function distribute_blood(blood_avail, blood_needs), which takes two dictionaries as arguments.
  The first dictionary, blood_avail, contains the available blood quantities for each blood type, where the keys are the blood types and the values are the available quantities.
  The second dictionary, blood_needs, contains the blood needs for each blood type, where the keys are the blood types and the values are the required quantities.

Your task is to calculate the optimal distribution of blood, considering the compatibility restrictions and the availability of blood. Determine the proportion of available blood for each type relative to the total available blood. Then, multiply this proportion by the needs for each blood type, making sure to respect the compatibility restrictions when assigning the blood.
Finally, return a dictionary where the keys are the blood types and the values are the assigned quantities of blood.
</p>


<p>
    <strong>Input:</strong> The blood quantities and the blood needs for each blood type.
</p>

<p>
    <strong>Output:</strong> The output will be the distribution of blood quantities for each blood type.
</p>

<p>
    <strong>Example:</strong>
</p>
<pre class="brush: python">
distribute_blood({'A': 30, 'B': 60, 'AB': 30, 'O': 60}, {'A': 30, 'B': 40, 'AB': 50, 'O': 60}) == {
  'A': {'A': 30, 'B': 0, 'AB': 0, 'O': 0},
  'B': {'A': 0, 'B': 40, 'AB': 20, 'O': 0},
  'AB': {'A': 0, 'B': 0, 'AB': 30, 'O': 0},
  'O': {'A': 0, 'B': 0, 'AB': 0, 'O': 60}
}

blood_needs = {'A': 30, 'B': 40, 'AB': 20, 'O': 60}] ) == [4, 4, 4, 4, 4, 4] # Or [3, 3, 4, 4, 5, 5]
distribute_blood([4, 4, 4, 4, 4, 4]) == [2, 2, 5, 5, 5, 5] # Or [5, 5, 2, 2, 5, 5]
distribute_blood([2, 2, 5, 5, 5, 5]) == [3, 3, 3, 3, 6, 6]

</pre>

<p class="for_info_only">
    <strong>How it is used:</strong>
    This task illustrates some of the unintuitive results in probability.
    Many people would think that two dice as similar as the ones in the description above (same number of sides, same average roll)
    would have a roughly 50/50 chance against each other.
    Even more unusual is that sets of dice can be created
    where die A beats die B, die B beats die C and yet die C beats die A (e.g. the first three examples above).
    These are called <a href="http://en.wikipedia.org/wiki/Nontransitive_dice">nontransitive dice</a>.
</p>

<p>
    <strong>Preconditions:</strong><br/> 
    0 &le;  blood quantities <br/>
    0 &le;   blood needs <br/>
    max(die) &le; 18
</p>

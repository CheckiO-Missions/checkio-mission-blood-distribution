
<p>
In this mission, you will be tasked with distributing available blood of different types to patients in need of transfusions.
  Each blood type has compatibility restrictions for both donation and reception of blood.
  You will be provided with the quantities of available blood for each type and the blood needs for each type of patient.
  Your goal is to calculate the appropriate amount of blood to allocate to each type, while respecting the compatibility restrictions, in order to meet the patients' needs as efficiently as possible.
</p>
<div>
  <h3>Compatibility Restrictions</h3>
  <ul>
    <li>Blood type A can donate to blood types A and AB.</li>
    <li>Blood type B can donate to blood types B and AB.</li>
    <li>Blood type AB can only donate to blood type AB.</li>
    <li>Blood type O can donate to blood types A, B, AB, and O (universal donor).</li>
    <li>Blood type A can only receive from blood types A and O.</li>
    <li>Blood type B can only receive from blood types B and O.</li>
    <li>Blood type AB can receive from all blood types (universal recipient).</li>
    <li>Blood type O can only receive from blood type O.</li>
  </ul>
</div>

<p>
You need to implement the function distribute_blood(blood_avail, blood_needs), which takes two dictionaries as arguments.
  The first dictionary, blood_avail, contains the available blood quantities for each blood type, where the keys are the blood types and the values are the available quantities.
  The second dictionary, blood_needs, contains the blood needs for each blood type, where the keys are the blood types and the values are the required quantities.

Your task is to calculate the optimal distribution of blood, considering the compatibility restrictions and the availability of blood. Determine the proportion of available blood for each type relative to the total available blood. Then, multiply this proportion by the needs for each blood type, making sure to respect the compatibility restrictions when assigning the blood.
Finally, return a dictionary where the keys are the blood types and the values are the assigned quantities of blood.
</p>


<p>
    <strong>Input:</strong> The blood quantities and the blood needs for each blood type.
</p>
distribute_blood({'A': 30, 'B': 60, 'AB': 30, 'O': 60}, {'A': 30, 'B': 40, 'AB': 50, 'O': 60}) == 
{
   'A': {'A': 30, 'B': 0,  'AB': 0,  'O': 0},
   'B': {'A': 0,  'B': 40, 'AB': 20, 'O': 0},
  'AB': {'A': 0,  'B': 0,  'AB': 30, 'O': 0},
   'O': {'A': 0,  'B': 0,  'AB': 0, 'O': 60}
}

distribute_blood({'A': 40, 'B': 30, 'AB': 30, 'O': 40}, {'A': 30, 'B': 35, 'AB': 45, 'O': 30}) == 
{
   'A': {'A': 30, 'B': 0,  'AB': 10, 'O': 0},
   'B': {'A': 0,  'B': 30, 'AB': 0,  'O': 0},
  'AB': {'A': 0,  'B': 0,  'AB': 30, 'O': 0},
   'O': {'A': 0,  'B': 5,  'AB': 5,  'O': 30}
}

<p>
    <strong>Output:</strong> The output will be the distribution of blood quantities for each blood type.
</p>

<p>
    <strong>Example:</strong>
</p>
<pre class="brush: python">

</pre>

<p class="for_info_only">
    <strong>How it is used:</strong>
    This mission focuses on efficiently distributing available blood quantities to meet patients' needs based on compatibility.
    The function `distribute_blood` calculates the appropriate blood allocation, respecting compatibility restrictions.
    By completing this mission, you will gain insights into efficient blood distribution algorithms and their practical applications.
</p>


<p class="for_info_only">
    <strong>Preconditions:</strong><br/> 
    0 &le; blood quantities <br/>
    0 &le; blood needs <br/>
    blood quantities &ge; sum(blood needs)
</p>

